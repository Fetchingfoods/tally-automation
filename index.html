<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tally automation</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>Tally automation</h1>
    <section>
      <label>
        Select a CSV file
        <span id="infoButton" title="Click to see information">ℹ️</span>
      </label>
      <br />
      <ul id="information" class="hidden">
        <li>
          The file must contain the following columns:
          <ul>
            <li><pre>Lineitem name</pre></li>
            <li><pre>Lineitem sku</pre></li>
            <li><pre>Lineitem quantity</pre></li>
            <li><pre>Lineitem fulfillment status</pre></li>
            <li><pre>Email</pre></li>
            <li><pre>Name (order number)</pre></li>
            <li><pre>Shipping Name</pre></li>
          </ul>
        </li>
      </ul>
      <br />
      <div>
        <input type="file" id="inputfile" accept=".csv" />
      </div>
      <br />
      <div>
        <div>
          <label>Requires shipping:</label>
          <input type="checkbox" id="requiresShipping" />
        </div>
        <br />
        <div>
          <label for="fulfillmentStatus">Fulfillment status pending:</label>
          <input type="checkbox" id="fulfillmentStatusPending" checked />
        </div>
      </div>
      <br />
      <table id="summary" class="hidden">
        <tr>
          <td>Total CSV lines:</td>
          <td><span id="totalLines"></span></td>
        </tr>
        <tr>
          <td>Total CSV lines filtered:</td>
          <td><span id="totalLinesFiltered"></span></td>
        </tr>
        <tr>
          <td>Total unique items:</td>
          <td><span id="totalUniqueItems"></span></td>
        </tr>
      </table>
    </section>

    <h3>Just Cat</h3>
    <small>filter: sku starts with "JC"</small>
    <table id="justCatTable" border="1">
      <thead>
        <tr>
          <th>JUST CAT</th>
          <th>SP Raw</th>
          <th>SP Cooked</th>
          <th>16oz</th>
          <th>16oz Cooked</th>
          <th>24oz</th>
          <th>32oz</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>
    <pre id="justCatWarning"></pre>

    <h3>Only Dog</h3>
    <small>filter: sku starts with "OD"</small>
    <table id="onlyDogTable" border="1">
      <thead>
        <tr>
          <th>ONLY DOG</th>
          <th>SP Raw</th>
          <th>SP Cooked</th>
          <th>16oz</th>
          <th>16oz Cooked</th>
          <th>24oz</th>
          <th>32oz</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>
    <pre id="onlyDogWarning"></pre>

    <h3>PREMIUM Cat</h3>
    <small>filter: sku starts with "PC"</small>
    <table id="premiumCatTable" border="1">
      <thead>
        <tr>
          <th>SKU</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>

    <h3>Bites</h3>
    <small>filter: sku starts with "Bites"</small>
    <table id="bitesTable" border="1">
      <thead>
        <tr>
          <th>SKU</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>

    <h3>Custom Meals</h3>
    <small>
      filter: contains Custom Cat Meal or Custom Dog Meal and doesn't end with
      "- Selections"
    </small>
    <table id="customMealsTable" border="1">
      <thead>
        <tr>
          <th>Order Number</th>
          <th>SKU</th>
          <th>Email</th>
          <th>Shipping Name</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>

    <h3>Exceptions SKUs</h3>
    <small>
      filter: sku does not start with JC|OD|PC|Bites and is not Custom Meal
    </small>
    <table id="exceptionsTable" border="1">
      <thead>
        <tr>
          <th>SKU</th>
          <th>Name</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>

    <h3>All SKUs</h3>
    <small>no filter</small>
    <table id="allTable" border="1">
      <thead>
        <tr>
          <th>SKU</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>

    <h3>Product-variants</h3>
    <small>Data parsed from SKU</small>
    <table id="productVariantsTable" border="1">
      <thead>
        <tr>
          <th>SKU</th>
          <th>Type</th>
          <th>Protein</th>
          <th>Size</th>
          <th>Is Cooked</th>
          <th>Name</th>
          <th>Count</th>
        </tr>
      </thead>
      <tbody class="table-body"></tbody>
    </table>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
